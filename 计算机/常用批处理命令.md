# 批处理（.bat/.cmd）常用命令
批处理是`Windows`系统下的脚本语言，通过一系列命令组合实现自动化操作，下面是一些常用的命令

### 回显控制（@、echo）
回显的意思是：命令执行过程中，是否把 “命令本身” 或 “指定内容” 显示在命令行窗口中，可以理解为像士兵执行命令一样，
手上在执行命令的动作，嘴上也要说出当前执行的命令，关闭回显就是不会输出命令本身，只执行命令的行为

```bat
echo off             # 关闭回显（但是由于没有给这一条命令加上@，这一条命令仍然会回显）
@echo off            # 关闭回显并且本条也会屏蔽回显
echo on              # 开启回显
echo HelloWorld      # 输出HelloWorld到命令行
echo.                # 输出空行（echo和.之间没有空格）
```

### 暂停执行（pause）
暂停批处理的执行，等待用户按下任意键后继续

```bat
pause # 暂停执行，等待用户按下任意键后继续
```

### 切换目录（cd）
用于切换当前工作目录

```bat
cd xxx            # 切换到当前目录下的xxx目录下（相对路径）
cd F:\xxx\yyy     # 切换到F盘xxx\yyy目录下（绝对路径），必须当前工作目录已经处于F盘才行，不能跨盘符
cd..              # 切换到上一级目录（cd和..之间没有空格）
cd\               # 切换到当前盘的根目录
cd /d D:          # 切换到D盘
cd /d F:\xxx\yyy  # 跨盘符切换到F盘xxx\yyy下（跨盘符必须加/d）
```

### 创建目录（md/mkdir）
用于创建目录（文件夹）

`md`和`mkdir`本质是一样的，只是不同的写法

```bat
md D:\newFolder                 # 在D盘创建newFolder文件夹
mkdir D:\newFolder1\newFolder2  # 创建多级目录（父目录不存在时自动创建）
```

### 删除目录（rd/rmdir）
```bat
rd D:\xxx           # 删除D盘xxx目录（空目录）
rd /s D:\xxx        # 删除非空目录及其下面的所有子文件夹、子文件
rd /s /q D:\xxx     # 删除非空目录及其下面的所有目录、文件夹，并且没有二次确认（/q代表静默删除，不会弹二次确认弹窗）
```

### 复制文件（copy）
```bat
copy D:\test\file.txt E:\xxx           # 复制单个文件到E盘xxx目录
copy D:\test\*.txt E:\xxx              # 复制D盘test目录下所有txt文件到E盘xxx目录
copy /y D:\test\file.txt E:\xxx        # /y覆盖目标文件不提示
```

### 复制文件进阶版（xcopy）
```bat
xcopy [源路径] [目标路径] [参数]

参数：
不带参数 仅复制该目录下所有子文件，不包含子目录
/s 递归复制所有子文件和子目录，但是不包含空目录
/e 所有子文件、子目录，包含空目录，相当于真正的完整复制
/y 静默，遇到同名文件不会有是否覆盖的二次弹窗，会直接覆盖
/h 包含系统文件、隐藏文件
/d 仅复制比目标新的文件
```

### 删除文件（del）
```bat
del D:\test\file.txt            # 删除单个文件
del /f D:\test\readonly.txt     # /f强制删除只读文件
del /s /q D:\test\*.tmp         # /s删除子目录中的文件，/q静默删除不提示
```

### 移动文件、重命名（move）
move命令既可以移动文件或者目录，也可以用于重命名文件（同一目录内移动等价于重命名）

```bat
move D:\test\file.txt E:\xxx               # 移动文件到指定目录
move /y D:\test\old.txt D:\test\new.txt    # 重命名文件（覆盖同名文件不提示）
```

### 重命名文件、文件夹（ren/rename）
专门用于重命名文件或目录的命令，`ren`和`rename`等价
```bat
ren D:\test\file.txt new_file.txt     # 重命名文件
ren D:\test\old_dir new_dir           # 重命名目录
```

### 定义、赋值变量

```bat
set name=批处理脚本             # 定义字符串变量name=批处理脚本
echo 变量name的值：%name%       # 使用变量时需要左右加上%

set /p age=请输入你的年龄：      # 读取用户输入
echo age：%age%
```

### 注释（rem、::）

- `rem 注释内容` 标准注释命令（**回显开启时会显示注释**）
- `:: 注释内容` 常用注释方式（本质是无效标签，**不回显**，推荐使用）

```bat
:: 这是一行注释
rem 这也是一行注释
```

### 退出脚本（exit）
```bat
exit         # 退出脚本
```
